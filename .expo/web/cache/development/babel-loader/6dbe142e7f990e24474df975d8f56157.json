{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/kharl/pawSpace/screens/DogPicker.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport { bindActionCreators } from 'redux';\nimport DogPickerComponent from \"./DogPickerComponent\";\nimport db from \"../config/firebase\";\nimport { getDog } from \"../actions/dog\";\nimport { getUser } from \"../actions/user\";\n\nvar DogPicker = function (_React$Component) {\n  _inherits(DogPicker, _React$Component);\n\n  function DogPicker(props) {\n    var _this;\n\n    _classCallCheck(this, DogPicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DogPicker).call(this, props));\n\n    _this.componentDidMount = function () {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this.dogLengthMoreThanOne(user.uid);\n\n          _this.props.getUser(user.uid, 'LOGIN');\n\n          _this.props.getUser(user.uid, 'GET_PROFILE');\n\n          _this.getUserData(user.uid);\n        }\n      });\n    };\n\n    _this.getUserData = function _callee(id) {\n      var dog1, userQuery;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(db.collection('users').doc(id).get());\n\n            case 3:\n              userQuery = _context.sent;\n              user1 = userQuery.data();\n              user1.dogs.map(function (data) {\n                _this.getDogData(data);\n              });\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              alert(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]]);\n    };\n\n    _this.getUserDog = function (id) {\n      console.log(\"Dog Id\" + id);\n\n      _this.props.getDog(id, 'DOGLOGIN');\n\n      _this.props.navigation.navigate('Home');\n    };\n\n    _this.getDogData = function _callee2(id) {\n      var dogQuery, res;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(db.collection('dogs').doc(id).get());\n\n            case 3:\n              dogQuery = _context2.sent;\n              dog = dogQuery.data();\n              res = JSON.stringify(dog.dogId);\n              console.log(\"dogoo\" + dog.dogId);\n\n              _this.setState({\n                dogs: [].concat(_toConsumableArray(_this.state.dogs), [dog])\n              });\n\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              alert(_context2.t0);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 10]]);\n    };\n\n    _this.dogLengthMoreThanOne = function _callee3(id) {\n      var userQuery;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(db.collection('users').doc(id).get());\n\n            case 3:\n              userQuery = _context3.sent;\n              user = userQuery.data();\n\n              _this.setState({\n                numberOfDogs: 2\n              });\n\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](0);\n              alert(_context3.t0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 8]]);\n    };\n\n    _this.state = {\n      numberOfDogs: 0,\n      dogs: [],\n      userDogs: _this.props.user.dogs\n    };\n    return _this;\n  }\n\n  _createClass(DogPicker, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.user.dogs == null) return null;\n      var dogPicker = this.props.user.dogs.map(function (data, i) {\n        key = {\n          i: i\n        };\n\n        if (_this2.state.dogs[i]) {\n          return React.createElement(View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            }\n          }, React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this2.getUserDog(_this2.state.dogs[i].dogId);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            }\n          }, React.createElement(DogPickerComponent, {\n            name: _this2.state.dogs[i].dogname,\n            imageUri: _this2.state.dogs[i].photo,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            }\n          })));\n        }\n      });\n      return React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        }\n      }, React.createElement(View, {\n        style: {\n          padding: 20,\n          marginTop: 5,\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        }\n      }, dogPicker));\n    }\n  }]);\n\n  return DogPicker;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getUser: getUser,\n    getDog: getDog\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user,\n    profile: state.profile,\n    dogname: state.dogname,\n    dog: state.dog,\n    dogprofile: state.dogprofile\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DogPicker);","map":{"version":3,"sources":["/Users/kharl/pawSpace/screens/DogPicker.js"],"names":["React","Component","connect","firebase","bindActionCreators","DogPickerComponent","db","getDog","getUser","DogPicker","props","componentDidMount","auth","onAuthStateChanged","user","dogLengthMoreThanOne","uid","getUserData","id","collection","doc","get","userQuery","user1","data","dogs","map","getDogData","alert","getUserDog","console","log","navigation","navigate","dogQuery","dog","res","JSON","stringify","dogId","setState","state","numberOfDogs","userDogs","dogPicker","i","key","dogname","photo","padding","marginTop","flexDirection","flexWrap","justifyContent","mapDispatchToProps","dispatch","mapStateToProps","profile","dogprofile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Text, StyleSheet, Image, ScrollView, TouchableOpacity } from \"react-native\";\nimport { connect } from 'react-redux'\nimport firebase from 'firebase'\nimport { bindActionCreators } from 'redux'\nimport DogPickerComponent from \"./DogPickerComponent\"\nimport db from '../config/firebase'\nimport { getDog } from '../actions/dog';\nimport { getUser } from '../actions/user'\n\n\nclass DogPicker extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            numberOfDogs: 0,\n            dogs:[],\n            userDogs: this.props.user.dogs\n        }\n    }\n    componentDidMount = () => {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.dogLengthMoreThanOne(user.uid)\n                this.props.getUser(user.uid, 'LOGIN')\n                this.props.getUser(user.uid, 'GET_PROFILE')\n\n                this.getUserData(user.uid)\n            }\n        })\n    }\n   \n    getUserData = async (id) => {\n        let dog1;\n         try{\n           const userQuery = await db.collection ('users').doc(id).get()\n            user1 = userQuery.data()\n           \n            user1.dogs.map((data)=>{\n                this.getDogData(data)\n\n            })\n            \n          \n           \n            \n         }\n         catch(e){\n           alert(e)\n         }\n    \n         \n      }\n\n      getUserDog = (id) => {\n        console.log(\"Dog Id\"+id)\n        this.props.getDog(id,'DOGLOGIN')\n        this.props.navigation.navigate('Home')\n    \n      }\n    getDogData = async (id) => {\n         try{\n           const dogQuery = await db.collection ('dogs').doc(id).get()\n            dog = dogQuery.data()\n            let res = JSON.stringify(dog.dogId);\n            console.log(\"dogoo\"+dog.dogId)\n            this.setState({\n                dogs: [...this.state.dogs, dog]\n               })\n           \n            \n         }\n         catch(e){\n           alert(e)\n         }\n      }\n    render() {\n        \n\n        if (this.props.user.dogs == null) return null\n        \n\n       \n        const dogPicker = this.props.user.dogs.map((data,i) => {\n            key={i}\n            if(this.state.dogs[i]){\n            return (\n                <View>\n                <TouchableOpacity onPress={() => this.getUserDog(this.state.dogs[i].dogId)}>\n               <DogPickerComponent name={this.state.dogs[i].dogname}  imageUri={this.state.dogs[i].photo} />\n               </TouchableOpacity>\n               </View>\n            )\n            }\n        })\n        return (\n            <ScrollView>\n                <View style={{\n                    padding: 20,\n                    marginTop: 5,\n                    flexDirection: \"row\",\n                    flexWrap: \"wrap\",\n                    justifyContent: \"space-between\",\n\n                }}>\n                    {dogPicker}\n\n                </View>\n            </ScrollView>\n\n        );\n    }\n\n    dogLengthMoreThanOne = async (id) => {\n        try {\n            const userQuery = await db.collection('users').doc(id).get()\n            user = userQuery.data()\n\n            this.setState({\n                numberOfDogs: 2\n            })\n\n        }\n        catch (e) {\n            alert(e)\n        }\n    }\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return bindActionCreators({ getUser, getDog }, dispatch)\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user,\n        profile: state.profile,\n        dogname: state.dogname,\n        dog: state.dog,\n        dogprofile: state.dogprofile\n\n\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DogPicker)\n"]},"metadata":{},"sourceType":"module"}