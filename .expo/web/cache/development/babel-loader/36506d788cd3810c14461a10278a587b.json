{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/kharl/pawSpace/screens/Explore.js\";\nimport React from 'react';\nimport styles from \"../styles\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Ionicons } from '@expo/vector-icons';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { getlocationPosts, likePost, unlikePost, flagPost, getPosts } from \"../actions/post\";\nimport { getDog } from \"../actions/dog\";\nimport moment from 'moment';\nimport DoubleClick from 'react-native-double-tap';\nvar GOOGLE_API = 'https://maps.googleapis.com/maps/api/geocode/json?';\nimport { Video, Audio } from 'expo-av';\nimport { Viewport } from '@skele/components';\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nvar ViewportAwareVideo = Viewport.Aware(Video);\nvar state;\nvar city;\nvar country;\n\nvar Explore = function (_React$Component) {\n  _inherits(Explore, _React$Component);\n\n  function Explore() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Explore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Explore)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.likePost = function (post) {\n      var dogId = _this.props.dog.dogId;\n\n      if (post.likes.includes(dogId)) {\n        _this.props.unlikePost(post);\n\n        _this.props.getlocationPosts(city, state, country);\n      } else {\n        _this.props.likePost(post);\n\n        _this.props.getlocationPosts(city, state, country);\n      }\n    };\n\n    _this.navigateMap = function (item) {\n      _this.props.navigation.navigate('Map', {\n        location: item.postLocation\n      });\n    };\n\n    _this.goToDog = function (post) {\n      _this.props.getDog(post.dogId);\n\n      _this.props.navigation.navigate('Profile');\n    };\n\n    _this.reportPost = function (postId) {\n      _this.props.flagPost(postId);\n\n      Alert.alert('Post Flagged', 'This post will be reviewed within 24 hours and if found to be inappropriate will be deleted and the user removed from the app', [{\n        text: 'OK'\n      }], {\n        cancelable: false\n      });\n    };\n\n    _this.getLocationData = function _callee(latitude, longitude) {\n      var url, response, data, i;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = GOOGLE_API + \"latlng=\" + latitude + \",\" + longitude + \"&key=\" + 'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk';\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(url));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 6:\n              data = _context.sent;\n\n              for (i = 0; i < data.results.length; ++i) {\n                if (data.results[i].types[0] == \"administrative_area_level_1\") {\n                  state = data.results[i].address_components[0].long_name;\n                }\n\n                if (data.results[i].types[0] == \"locality\") {\n                  city = data.results[i].address_components[0].long_name;\n                }\n\n                if (data.results[i].types[0] == \"country\") {\n                  country = data.results[i].address_components[0].long_name;\n                  console.log(\"country: \" + country);\n                }\n              }\n\n              _this.props.getlocationPosts(city, state, country, country);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Explore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var latitude, longitude;\n      return _regeneratorRuntime.async(function componentDidMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              latitude = this.props.navigation.getParam('latitude', '');\n              longitude = this.props.navigation.getParam('longitude', '');\n              this.getLocationData(latitude, longitude);\n              this.props.getPosts();\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(this.playInSilentMode());\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"playInSilentMode\",\n    value: function playInSilentMode() {\n      var sound;\n      return _regeneratorRuntime.async(function playInSilentMode$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Audio.setAudioModeAsync({\n                playsInSilentModeIOS: true,\n                allowsRecordingIOS: false,\n                interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS,\n                shouldDuckAndroid: false,\n                interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n                playThroughEarpieceAndroid: true,\n                staysActiveInBackground: false\n              }));\n\n            case 2:\n              _context3.next = 4;\n              return _regeneratorRuntime.awrap(Audio.setIsEnabledAsync(true));\n\n            case 4:\n              sound = new Audio.Sound();\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(sound.loadAsync(require(\"../assets/500-milliseconds-of-silence.mp3\")));\n\n            case 7:\n              _context3.next = 9;\n              return _regeneratorRuntime.awrap(sound.playAsync());\n\n            case 9:\n              sound.setIsMutedAsync(true);\n              sound.setIsLoopingAsync(true);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var status;\n      return _regeneratorRuntime.async(function play$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(this.video.getStatusAsync());\n\n            case 2:\n              status = _context4.sent;\n\n              if (!status.isPlaying) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt(\"return\");\n\n            case 5:\n              return _context4.abrupt(\"return\", this.video.playAsync());\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var status;\n      return _regeneratorRuntime.async(function pause$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _regeneratorRuntime.awrap(this.video.getStatusAsync());\n\n            case 2:\n              status = _context5.sent;\n\n              if (!(status.isPlaying === false)) {\n                _context5.next = 5;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 5:\n              this.video.pauseAsync();\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var dogCaption;\n\n      if (country == 'United States') {\n        dogCaption = state;\n      } else {\n        dogCaption = country;\n      }\n\n      if (typeof this.props.post.exploreFeed != 'undefined' && this.props.post.exploreFeed.length < 1) {\n        return React.createElement(Text, {\n          style: {\n            fontSize: 24,\n            fontWeight: \"700\",\n            paddingHorizontal: 10,\n            paddingVertical: 300\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          }\n        }, \"There are no Dogs in this area\");\n      } else {\n        return React.createElement(Viewport.Tracker, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          }\n        }, React.createElement(ScrollView, {\n          scrollEventThrottle: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          }\n        }, React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          }\n        }, React.createElement(ImageBackground, {\n          source: require(\"../assets/homebackground1.jpg\"),\n          imageStyle: {\n            opacity: .12\n          },\n          style: {\n            width: null,\n            height: null\n          },\n          resizeMode: \"repeat\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 30,\n            fontWeight: \"700\",\n            paddingHorizontal: 10,\n            paddingLeft: 110,\n            paddingTop: 10,\n            paddingBottom: height * .17\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          }\n        }, \"Dogs in \", dogCaption), React.createElement(View, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          }\n        }, React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          }\n        }, React.createElement(ImageBackground, {\n          source: require(\"../assets/homebackground1.jpg\"),\n          imageStyle: {\n            opacity: .12\n          },\n          style: {\n            width: null,\n            height: null\n          },\n          resizeMode: \"repeat\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          }\n        }, React.createElement(FlatList, {\n          data: this.props.post.exploreFeed,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            var liked = item.likes.includes(_this2.props.dog.dogId);\n            return React.createElement(View, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 211\n              }\n            }, React.createElement(View, {\n              style: [styles.row, styles.space],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212\n              }\n            }, React.createElement(View, {\n              style: [styles.row, styles.center],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 213\n              }\n            }, React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.goToDog(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 214\n              }\n            }, React.createElement(Image, {\n              style: styles.roundImage,\n              source: {\n                uri: item.dog.photo\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 215\n              }\n            })), React.createElement(View, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 217\n              }\n            }, React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.goToDog(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 218\n              }\n            }, React.createElement(Text, {\n              style: styles.bold,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              }\n            }, item.dogTag)), React.createElement(Text, {\n              style: [styles.gray, styles.small],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 221\n              }\n            }, moment(item.date).format('ll')), React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.navigateMap(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 222\n              }\n            }, React.createElement(Text, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223\n              }\n            }, item.postLocation ? item.postLocation.name : null))))), React.createElement(DoubleClick, {\n              doubleTap: function doubleTap() {\n                _this2.likePost(item);\n              },\n              delay: 200,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 228\n              }\n            }, item.isVideo === true ? React.createElement(ViewportAwareVideo, {\n              innerRef: function innerRef(ref) {\n                return _this2.video = ref;\n              },\n              onViewportLeave: function onViewportLeave() {\n                return _this2.pause();\n              },\n              onViewportEnter: function onViewportEnter() {\n                return _this2.play();\n              },\n              preTriggerRatio: -0.7,\n              source: {\n                uri: item.postPhoto\n              },\n              rate: 1.0,\n              volume: 1.0,\n              isMuted: true,\n              resizeMode: \"cover\",\n              shouldPlay: false,\n              isLooping: true,\n              style: styles.homeVideo,\n              useNativeControls: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 233\n              }\n            }) : React.createElement(Image, {\n              style: styles.homeImage,\n              source: {\n                uri: item.postPhoto\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 248\n              }\n            })), React.createElement(View, {\n              style: styles.row,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 251\n              }\n            }, React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.likePost(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 252\n              }\n            }, React.createElement(Ionicons, {\n              style: {\n                marginLeft: 50,\n                marginTop: 5\n              },\n              color: liked ? '#0000ff' : '#000',\n              name: liked ? 'ios-heart' : 'ios-heart-empty',\n              size: 25,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 253\n              }\n            }), React.createElement(Text, {\n              style: {\n                fontWeight: 'bold',\n                marginTop: 0,\n                marginLeft: 51\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 255\n              }\n            }, item.likes.length, \" Licks\")), React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.props.navigation.navigate('Comment', item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 258\n              }\n            }, React.createElement(Ionicons, {\n              style: {\n                marginLeft: 100,\n                marginTop: 5\n              },\n              name: \"ios-chatbubbles\",\n              size: 25,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 259\n              }\n            })), React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return Alert.alert('Report Post', 'Would you like to report this post for inappropriate content?', [{\n                  text: 'No',\n                  onPress: function onPress() {\n                    return console.log('Cancel Pressed!');\n                  }\n                }, {\n                  text: 'Yes',\n                  onPress: function onPress() {\n                    return _this2.reportPost(item.id);\n                  }\n                }], {\n                  cancelable: false\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 261\n              }\n            }, React.createElement(Ionicons, {\n              style: {\n                marginLeft: 100,\n                marginTop: 5\n              },\n              name: \"ios-flag\",\n              size: 25,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 270\n              }\n            }))), React.createElement(Text, {\n              style: {\n                marginLeft: 50,\n                marginTop: 5,\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              }\n            }, item.postDescription), React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this2.props.navigation.navigate('Comment', item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 275\n              }\n            }, React.createElement(Text, {\n              style: {\n                color: '#adadad',\n                fontSize: 10,\n                marginBottom: 5,\n                marginLeft: 50\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 276\n              }\n            }, \"View Comments\")));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          }\n        }))))))));\n      }\n    }\n  }]);\n\n  return Explore;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getlocationPosts: getlocationPosts,\n    likePost: likePost,\n    unlikePost: unlikePost,\n    flagPost: flagPost,\n    getDog: getDog,\n    getPosts: getPosts\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    post: state.post,\n    user: state.user,\n    dog: state.dog\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Explore);","map":{"version":3,"sources":["/Users/kharl/pawSpace/screens/Explore.js"],"names":["React","styles","connect","bindActionCreators","Ionicons","getlocationPosts","likePost","unlikePost","flagPost","getPosts","getDog","moment","DoubleClick","GOOGLE_API","Video","Audio","Viewport","Dimensions","get","height","ViewportAwareVideo","Aware","state","city","country","Explore","post","dogId","props","dog","likes","includes","navigateMap","item","navigation","navigate","location","postLocation","goToDog","reportPost","postId","Alert","alert","text","cancelable","getLocationData","latitude","longitude","url","fetch","response","json","data","i","results","length","types","address_components","long_name","console","log","getParam","playInSilentMode","setAudioModeAsync","playsInSilentModeIOS","allowsRecordingIOS","interruptionModeIOS","INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS","shouldDuckAndroid","interruptionModeAndroid","INTERRUPTION_MODE_ANDROID_DO_NOT_MIX","playThroughEarpieceAndroid","staysActiveInBackground","setIsEnabledAsync","sound","Sound","loadAsync","require","playAsync","setIsMutedAsync","setIsLoopingAsync","video","getStatusAsync","status","isPlaying","pauseAsync","dogCaption","exploreFeed","fontSize","fontWeight","paddingHorizontal","paddingVertical","flex","opacity","width","paddingLeft","paddingTop","paddingBottom","container","id","liked","row","space","center","roundImage","uri","photo","bold","dogTag","gray","small","date","format","name","isVideo","ref","pause","play","postPhoto","homeVideo","homeImage","marginLeft","marginTop","onPress","marginBottom","postDescription","color","Component","mapDispatchToProps","dispatch","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from '../styles'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Ionicons } from '@expo/vector-icons';\nimport { Text, View, Button, Image, FlatList, TouchableOpacity,ScrollView,ImageBackground,Alert, Dimensions} from 'react-native';\nimport { getlocationPosts, likePost, unlikePost,flagPost,getPosts} from '../actions/post'\nimport { getDog } from '../actions/dog';\nimport moment from 'moment'\nimport DoubleClick from 'react-native-double-tap';\nconst GOOGLE_API = 'https://maps.googleapis.com/maps/api/geocode/json?'\nimport { Video, Audio} from 'expo-av';\nimport { Viewport } from '@skele/components'\nconst {height} = Dimensions.get('window');\nconst ViewportAwareVideo = Viewport.Aware(Video)\n\nlet state;\nlet city;\nlet country;\n\nclass Explore extends React.Component {\n\n  async componentDidMount() {\n   \n    const latitude = this.props.navigation.getParam('latitude','');\n    const longitude = this.props.navigation.getParam('longitude','');\n    this.getLocationData(latitude,longitude)\n    \n    this.props.getPosts()\n    // this method is a work around to get audio to automatically play when the ringer is off for the phone\n    await this.playInSilentMode()\n  }\n\n  likePost = (post) => {\n    const { dogId } = this.props.dog\n    if (post.likes.includes(dogId)) {\n      this.props.unlikePost(post)\n      this.props.getlocationPosts(city,state,country)\n    } else {\n      this.props.likePost(post)\n      this.props.getlocationPosts(city,state,country)\n    }\n  }\n\n  navigateMap = (item) => {\n    this.props.navigation.navigate('Map', { \n      location: item.postLocation \n    })\n  }\n  goToDog = (post) => {\n    this.props.getDog(post.dogId)\n    this.props.navigation.navigate('Profile')\n\n  }\n  async playInSilentMode() {\n    // To get around the fact that audio in a `WebView` will be muted in silent mode\n    // See: https://github.com/expo/expo/issues/211\n    //\n    // Based off crazy hack to get the sound working on iOS in silent mode (ringer muted/on vibrate)\n    // https://github.com/expo/expo/issues/211#issuecomment-454319601\n    await Audio.setAudioModeAsync({\n      playsInSilentModeIOS: true,\n      allowsRecordingIOS: false,\n      interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS,\n      shouldDuckAndroid: false,\n      interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n      playThroughEarpieceAndroid: true,\n      staysActiveInBackground: false\n    });\n    await Audio.setIsEnabledAsync(true);\n    // console.log(\" ðŸ”ˆ done: setIsEnabledAsync\");\n    const sound = new Audio.Sound();\n    await sound.loadAsync(\n      require(\"../assets/500-milliseconds-of-silence.mp3\") // from https://github.com/anars/blank-audio\n    );\n    // console.log(\" ðŸ”ˆ done: sound.loadAsync\");\n    await sound.playAsync();\n    sound.setIsMutedAsync(true);\n    sound.setIsLoopingAsync(true);\n    // console.log(\" ðŸ”ˆ done: sound.playAsync\");\n  }\n\n  reportPost = (postId) => {\n\n    this.props.flagPost(postId)\n\n    Alert.alert(\n      'Post Flagged',\n      'This post will be reviewed within 24 hours and if found to be inappropriate will be deleted and the user removed from the app',\n      [\n        \n        {text: 'OK'},\n      ],\n      { cancelable: false }\n  )}\n  async play() {\n    \n    const status = await this.video.getStatusAsync();\n    if (status.isPlaying) {\n      return;\n    }\n    return this.video.playAsync();\n  }\n\n  async pause () {\n \n   const status = await this.video.getStatusAsync();\n   \n    if (status.isPlaying===false) {\n      return;\n    }\n      this.video.pauseAsync();    \n  }\n\ngetLocationData = async (latitude,longitude) => {\n\n\nconst url = `${GOOGLE_API}latlng=${latitude},${longitude}&key=${'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk'}`\nconst response = await fetch(url)\nconst data = await response.json()\n\nfor(let i=0;i<data.results.length;++i){\n  \n  if(data.results[i].types[0]==\"administrative_area_level_1\"){\n    \n      state = data.results[i].address_components[0].long_name;  \n          \n  }\n\n  if(data.results[i].types[0]==\"locality\"){\n    \n    city = data.results[i].address_components[0].long_name;  \n        \n}\n\nif(data.results[i].types[0]==\"country\"){\n    \n  country = data.results[i].address_components[0].long_name; \n  console.log(\"country: \"+country)\n}\n \n}\n\nthis.props.getlocationPosts(city,state,country,country)\n\n}\n  render() {\n    let dogCaption\n    if(country=='United States'){\n      dogCaption= state\n    }\n    else{\n      dogCaption = country\n    }\n        if(typeof this.props.post.exploreFeed != 'undefined' && this.props.post.exploreFeed.length<1){\n          return(\n              <Text\n          style={{\n            fontSize: 24,\n            fontWeight: \"700\",\n            paddingHorizontal: 10,\n            paddingVertical: 300\n          }}\n        >\n          There are no Dogs in this area\n      </Text>\n          )\n      }\n      else{\n        return (\n          <Viewport.Tracker>\n          <ScrollView scrollEventThrottle={16}>\n       <View style={{ flex: 1}}>\n          <ImageBackground\n          source={require('../assets/homebackground1.jpg')}\n          imageStyle= \n          {{opacity:.12}}\n          style={{width:null,height:null\n          }}\n          resizeMode=\"repeat\"\n          >   \n                <Text\n          style={{\n            fontSize: 30,\n            fontWeight: \"700\",\n            paddingHorizontal: 10,\n            paddingLeft: 110,\n            paddingTop: 10,\n            paddingBottom: height*.17\n          }}\n        >\n          \n           Dogs in {dogCaption}\n      </Text>\n      <View style={styles.container}>\n      <View style={{ flex: 1}}>\n          <ImageBackground\n          source={require('../assets/homebackground1.jpg')}\n          imageStyle= \n          {{opacity:.12}}\n          style={{width:null,height:null\n          }}\n          resizeMode=\"repeat\"\n          > \n      <FlatList\n        data={this.props.post.exploreFeed}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => {\n          let liked = item.likes.includes(this.props.dog.dogId)\n          return (   \n            <View>\n              <View style={[styles.row, styles.space]}>\n                <View style={[styles.row, styles.center]}>\n                  <TouchableOpacity onPress={() => this.goToDog(item)} >\n                    <Image style={styles.roundImage} source={{ uri: item.dog.photo}} />\n                  </TouchableOpacity>\n                  <View>\n                  <TouchableOpacity onPress={() => this.goToDog(item)} >\n                    <Text style={styles.bold}>{item.dogTag}</Text>\n                    </TouchableOpacity>\n                    <Text style={[styles.gray, styles.small]}>{moment(item.date).format('ll')}</Text>\n                    <TouchableOpacity onPress={() => this.navigateMap(item)} >\n                      <Text>{item.postLocation ? item.postLocation.name : null}</Text>\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              </View>\n              <DoubleClick\n                    doubleTap={() => {this.likePost(item)}}\n                    delay={200}>\n                   {\n                        item.isVideo===true ?\n                        <ViewportAwareVideo\n                         innerRef={ref => this.video = ref}\n                        onViewportLeave={() => this.pause()} \n                        onViewportEnter={() => this.play()}\n                        preTriggerRatio={-0.7}\n                        source={{ uri: item.postPhoto }}\n                        rate={1.0}\n                        volume={1.0}\n                        isMuted={true}\n                        resizeMode=\"cover\"\n                        shouldPlay={false}\n                        isLooping\n                        style={styles.homeVideo}\n                        useNativeControls={true}>\n                      </ViewportAwareVideo>:\n                    <Image style={styles.homeImage} source={{ uri: item.postPhoto }} />\n                      }\n              </DoubleClick>\n              <View style={styles.row}>\n              <TouchableOpacity onPress={() => this.likePost(item)} >\n              <Ionicons style={{ marginLeft: 50, marginTop: 5 }} color={liked ? '#0000ff' : '#000'} name={liked ? 'ios-heart' : 'ios-heart-empty'} size={25} \n                />\n                <Text style={{ fontWeight: 'bold' ,marginTop: 0,marginLeft: 51}}>{item.likes.length} Licks</Text>\n              \n              </TouchableOpacity>\n                <TouchableOpacity onPress={() => this.props.navigation.navigate('Comment', item)} >\n                  <Ionicons style={{ marginLeft: 100, marginTop: 5 }} name='ios-chatbubbles' size={25} />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => Alert.alert(\n                  'Report Post',\n                  'Would you like to report this post for inappropriate content?',\n                  [\n                    {text: 'No', onPress: () => console.log('Cancel Pressed!')},\n                    {text: 'Yes', onPress: ()=> this.reportPost(item.id)},\n                  ],\n                  { cancelable: false }\n                )}>\n                <Ionicons style={{ marginLeft: 100, marginTop: 5 }} name='ios-flag' size={25} />\n                </TouchableOpacity>\n              </View>\n              \n              <Text style={{ marginLeft: 50, marginTop: 5, marginBottom: 10 }}>{item.postDescription}</Text>\n              <TouchableOpacity onPress={() => this.props.navigation.navigate('Comment', item)} >\n              <Text style={{color:'#adadad', fontSize:10, marginBottom: 5,marginLeft: 50}}>View Comments</Text>\n                </TouchableOpacity>\n              \n            </View>\n              )\n            }}\n          />\n      </ImageBackground> \n        </View>\n        </View>\n        </ImageBackground>\n        </View>\n      </ScrollView>\n      </Viewport.Tracker>\n         \n    );\n  }\n}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ getlocationPosts, likePost, unlikePost, flagPost,getDog,getPosts}, dispatch)\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    post: state.post, \n    user: state.user,\n    dog: state.dog\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Explore)\n\n"]},"metadata":{},"sourceType":"module"}