{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/kharl/pawSpace/screens/Profile.js\";\nimport React from 'react';\nimport styles from \"../styles1\";\nimport styles1 from \"../styles\";\nimport firebase from 'firebase';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { followUser, unfollowUser, getUser } from \"../actions/user\";\nimport Masonry from \"react-native-masonry\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nimport { NavigationEvents } from 'react-navigation';\nimport { getDog, blockDog } from \"../actions/dog\";\nimport { getPost, getPosts } from \"../actions/post\";\nimport { GeofencingRegionState } from 'expo-location';\nimport { Tile } from 'react-native-elements';\nimport DogInfo from \"./DogInfo\";\nvar post = [];\nimport Icon from \"./Icon\";\nimport Demo from \"./demo.js\";\nimport ProfileItem from \"./ProfileItem\";\nimport * as VideoThumbnails from 'expo-video-thumbnails';\nimport Toast from 'react-native-root-toast';\n\nvar Profile = function (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.componentDidMount = function () {\n      _this.props.getPosts();\n\n      _this.props.getDog;\n\n      var headerId = _this.props.navigation.getParam('chatDog', '');\n\n      console.log('headerId:' + headerId);\n\n      if (headerId != '') {\n        _this.props.getDog(headerId);\n      }\n    };\n\n    _this.block = function (dogId) {\n      console.log(\"in dog block method\");\n\n      _this.props.blockDog(dogId);\n\n      Alert.alert('Dog Blocked', 'This dog is now block and you will not see any more posts from this dog', [{\n        text: 'OK'\n      }], {\n        cancelable: false\n      });\n    };\n\n    _this.follow = function (dog) {\n      if (dog.followers.indexOf(_this.props.dog.dogId) >= 0) {\n        _this.props.unfollowUser(dog);\n      } else {\n        _this.props.followUser(dog);\n      }\n    };\n\n    _this.signOutUser = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n            case 3:\n              _this.props.navigation.navigate('Login');\n\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 6]]);\n    };\n\n    _this.viewPost = function (item) {\n      _this.props.getPost(item.id);\n\n      var routeName = _this.props.navigation.state.routeName;\n      console.log(\"routeName: \" + routeName);\n\n      if (routeName === 'MyProfile') {\n        _this.props.navigation.navigate('MyIndividualPosts');\n      } else {\n        _this.props.navigation.navigate('IndividualPosts');\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var dog = {};\n      var _this$props$navigatio = this.props.navigation,\n          state = _this$props$navigatio.state,\n          navigate = _this$props$navigatio.navigate;\n\n      if (state.routeName === 'Profile') {\n        user = this.props.profile;\n        var res = JSON.stringify(user);\n        dog = this.props.dogprofile;\n      } else {\n        user = this.props.user;\n        dog = this.props.dog;\n      }\n\n      return React.createElement(ScrollView, {\n        style: styles.containerProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        }\n      }, React.createElement(ImageBackground, {\n        source: {\n          uri: dog.photo\n        },\n        style: styles.photo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        }\n      }), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        }\n      }, React.createElement(ImageBackground, {\n        source: require(\"../assets/homebackground1.jpg\"),\n        imageStyle: {\n          opacity: .12\n        },\n        style: {\n          width: null,\n          height: null\n        },\n        resizeMode: \"repeat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        }\n      }, React.createElement(ProfileItem, {\n        name: dog.dogname,\n        dogTag: dog.dogTag,\n        breed: dog.breed,\n        color: dog.color,\n        age: dog.age,\n        gender: dog.gender,\n        weight: dog.weight,\n        bio: dog.bio,\n        followers: dog.followers.length,\n        following: dog.following.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        }\n      }), state.routeName === 'MyProfile' ? React.createElement(View, {\n        style: styles.actionsProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.roundedButton,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Edit');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        }\n      }, React.createElement(Text, {\n        style: styles.textButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        }\n      }, \"Edit Profile\")), React.createElement(TouchableOpacity, {\n        style: styles.roundedButton,\n        onPress: function onPress() {\n          return _this2.signOutUser();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        }\n      }, React.createElement(Text, {\n        style: styles.textButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        }\n      }, \"Logout\"))) : React.createElement(View, {\n        style: styles.actionsProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.roundedButton,\n        onPress: function onPress() {\n          return _this2.follow(dog);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        }\n      }, React.createElement(Text, {\n        style: styles.textButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        }\n      }, dog.followers.indexOf(this.props.dog.dogId) >= 0 ? 'UnFollow Dog' : 'Follow Dog')), React.createElement(TouchableOpacity, {\n        style: styles.roundedButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        }\n      }, React.createElement(Text, {\n        style: styles.textButton,\n        onPress: function onPress() {\n          return _this2.block(dog.dogId);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        }\n      }, \"Block Dog\"))), React.createElement(View, {\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 24,\n          fontWeight: \"500\",\n          paddingHorizontal: width / 3 + 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        }\n      }, \"Photos\")), React.createElement(FlatList, {\n        style: {\n          paddingTop: 5\n        },\n        horizontal: false,\n        numColumns: 3,\n        data: dog.posts,\n        keyExtractor: function keyExtractor(item) {\n          return JSON.stringify(item.date);\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this2.viewPost(item);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            }\n          }, React.createElement(View, {\n            style: styles1.homeBorder,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            }\n          }, item.isVideo === true ? React.createElement(Image, {\n            style: styles1.squareLarge,\n            source: {\n              uri: item.thumbnail\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            }\n          }) : React.createElement(Image, {\n            style: styles1.squareLarge,\n            source: {\n              uri: item.postPhoto\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            }\n          }), React.createElement(Text, {\n            style: {\n              marginTop: 2,\n              marginLeft: 5,\n              height: 22,\n              width: width * .26,\n              fontWeight: 'bold'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            }\n          }, item.postDescription)));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        }\n      }))));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    followUser: followUser,\n    unfollowUser: unfollowUser,\n    getDog: getDog,\n    getUser: getUser,\n    getPost: getPost,\n    getPosts: getPosts,\n    blockDog: blockDog\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user,\n    profile: state.profile,\n    dogprofile: state.dogprofile,\n    dog: state.dog\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/kharl/pawSpace/screens/Profile.js"],"names":["React","styles","styles1","firebase","connect","bindActionCreators","followUser","unfollowUser","getUser","Masonry","Dimensions","get","width","height","NavigationEvents","getDog","blockDog","getPost","getPosts","GeofencingRegionState","Tile","DogInfo","post","Icon","Demo","ProfileItem","VideoThumbnails","Toast","Profile","componentDidMount","props","headerId","navigation","getParam","console","log","block","dogId","Alert","alert","text","cancelable","follow","dog","followers","indexOf","signOutUser","auth","signOut","navigate","viewPost","item","id","routeName","state","user","profile","res","JSON","stringify","dogprofile","containerProfile","uri","photo","flex","require","opacity","dogname","dogTag","breed","color","age","gender","weight","bio","length","following","actionsProfile","roundedButton","textButton","alignItems","justifyContent","marginTop","fontSize","fontWeight","paddingHorizontal","paddingTop","posts","date","homeBorder","isVideo","squareLarge","thumbnail","postPhoto","marginLeft","postDescription","Component","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from '../styles1'\nimport styles1 from '../styles'\nimport firebase from 'firebase';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Text, View, Image, TouchableOpacity, FlatList, ActivityIndicator, StyleSheet, ImageBackground,Dimensions,ScrollView, Alert} from 'react-native';\nimport { followUser, unfollowUser, getUser } from '../actions/user'\nimport Masonry from \"react-native-masonry\";\nconst  { width,height } = Dimensions.get('window');\nimport { NavigationEvents } from 'react-navigation';\nimport {getDog,blockDog} from '../actions/dog'\nimport {getPost,getPosts} from '../actions/post'\nimport { GeofencingRegionState } from 'expo-location';\nimport { Tile } from 'react-native-elements';\nimport DogInfo from './DogInfo';\nlet post = [];\n//import ProfileItem from '../components/ProfileItem';\nimport Icon from './Icon';\nimport Demo from './demo.js';\nimport ProfileItem from './ProfileItem';\nimport * as VideoThumbnails from 'expo-video-thumbnails';\nimport Toast from 'react-native-root-toast'\n\n\nclass Profile extends React.Component {\n    componentDidMount = () => {\n        this.props.getPosts()\n        this.props.getDog\n\n        const headerId = this.props.navigation.getParam('chatDog','');\n        console.log('headerId:'+headerId)\n\n        if(headerId!=''){\n          this.props.getDog(headerId)\n        }\n       }\n\n       block = (dogId) => {\n         console.log(\"in dog block method\")\n         this.props.blockDog(dogId)\n         Alert.alert(\n          'Dog Blocked',\n          'This dog is now block and you will not see any more posts from this dog',\n          [\n            \n            {text: 'OK'},\n          ],\n          { cancelable: false }\n          )}\n\n       follow = (dog) => {\n        if(dog.followers.indexOf(this.props.dog.dogId) >= 0){\n          this.props.unfollowUser(dog)\n        } else {\n          this.props.followUser(dog)\n        }\n      }\n      signOutUser = async () => {\n        try {\n            await firebase.auth().signOut();\n            this.props.navigation.navigate('Login')\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    viewPost = (item) => {\n        this.props.getPost(item.id)\n        const { routeName } = this.props.navigation.state\n        console.log(\"routeName: \"+routeName)\n        if(routeName==='MyProfile'){\n          this.props.navigation.navigate('MyIndividualPosts') \n        }\n        else{\n          this.props.navigation.navigate('IndividualPosts')\n        }\n         \n      \n      }\n render(){\n    let dog = {}\n    const { state, navigate } = this.props.navigation\n     if(state.routeName === 'Profile'){\n       \n       user = this.props.profile\n       let res = JSON.stringify(user)\n       \n       dog = this.props.dogprofile\n     } else {\n       \n       user = this.props.user\n       dog = this.props.dog\n \n       \n     }\n  return (\n   \n    //<View style={{backgroundColor:'#E0E0E0'}}>\n      <ScrollView style={styles.containerProfile}>\n        <ImageBackground source={{uri: dog.photo}} style={styles.photo}>\n        </ImageBackground>\n        <View style={{ flex: 1}}>\n        <ImageBackground\n          source={require('../assets/homebackground1.jpg')}\n          imageStyle= \n          {{opacity:.12}}\n          style={{width:null,height:null\n          }}\n         resizeMode=\"repeat\"\n        >\n        <ProfileItem\n          name={dog.dogname}\n          dogTag={dog.dogTag}\n          breed={dog.breed}\n          color={dog.color}\n          age={dog.age}\n          gender={dog.gender}\n          weight={dog.weight}\n          bio={dog.bio}\n          followers={dog.followers.length}\n          following={dog.following.length}\n        />\n         \n        {\n          state.routeName === 'MyProfile' ?\n          <View style={styles.actionsProfile}>\n            <TouchableOpacity style={styles.roundedButton} onPress={() => this.props.navigation.navigate('Edit')}>\n            <Text style={styles.textButton}>Edit Profile</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.roundedButton} onPress={() => this.signOutUser()}>\n              <Text style={styles.textButton}>Logout</Text>\n            </TouchableOpacity>\n          </View> : \n          <View style={styles.actionsProfile}>\n            <TouchableOpacity style={styles.roundedButton} onPress={() => this.follow(dog)}>\n              <Text style={styles.textButton}>{dog.followers.indexOf(this.props.dog.dogId) >= 0 ? 'UnFollow Dog' : 'Follow Dog'}</Text>\n            </TouchableOpacity>\n              <TouchableOpacity style={styles.roundedButton}>\n              <Text style={styles.textButton} onPress={() => this.block(dog.dogId)}>Block Dog</Text>\n              </TouchableOpacity>\n          </View>\n        }\n  \n        <View style={{ alignItems:'center', justifyContent:'center', marginTop: 15}}>\n            <Text\n              style={{\n                fontSize: 24,\n                fontWeight: \"500\",\n                paddingHorizontal: (width/3) + 10\n              }}\n            >\n              Photos\n          </Text>\n          </View>\n      \n          \n          \n          <FlatList\n          \n          style={{paddingTop: 5}}\n          horizontal={false}\n          numColumns={3}\n          data={dog.posts}\n          keyExtractor={(item) => JSON.stringify(item.date)}\n          \n          renderItem={({ item }) => \n          <TouchableOpacity onPress={() => this.viewPost(item)}>\n          <View style={styles1.homeBorder}>\n          {\n            item.isVideo===true ?\n            <Image style={styles1.squareLarge} source={{uri: item.thumbnail}}/> :\n            <Image style={styles1.squareLarge} source={{uri: item.postPhoto}}/> }\n            <Text style={{ marginTop: 2, marginLeft:5,height: 22,width:width*.26,fontWeight: 'bold'}}>{item.postDescription}</Text>\n            \n            </View>\n            </TouchableOpacity>\n            \n            }/>\n            \n      </ImageBackground>\n    </View>\n      </ScrollView>\n    //</View>\n    \n  );\n};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return bindActionCreators({ followUser, unfollowUser,getDog,getUser,getPost,getPosts,blockDog }, dispatch)\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      user: state.user,\n      profile: state.profile,\n      dogprofile: state.dogprofile,\n      dog: state.dog\n  \n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Profile)"]},"metadata":{},"sourceType":"module"}