{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/kharl/pawSpace/screens/Post.js\";\nimport React from 'react';\nimport styles from \"../styles\";\nimport ENV from \"../env\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\nimport { NavigationEvents } from 'react-navigation';\nimport { updateDescription, updateLocation, uploadPost, updatePhoto, getPosts } from \"../actions/post\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nvar GOOGLE_API = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json';\nvar GOOGLE_API1 = 'https://maps.googleapis.com/maps/api/geocode/json?';\nimport Toast from 'react-native-root-toast';\nimport { Video, Audio } from 'expo-av';\nimport VideoPlayer from 'expo-video-player';\nimport { uploadPhoto, playInSilentMode } from \"../actions\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport * as VideoThumbnails from 'expo-video-thumbnails';\n\nvar Post = function (_React$Component) {\n  _inherits(Post, _React$Component);\n\n  function Post() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Post)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showModal: false,\n      locations: [],\n      isVideo: \"\",\n      thumbnail: \"\",\n      image: \"\",\n      videoLoading: \"\",\n      opacity: 0\n    };\n\n    _this.onLoad = function () {\n      _this.setState({\n        opacity: 0\n      });\n    };\n\n    _this.onLoadStart = function () {\n      _this.setState({\n        opacity: 1\n      });\n    };\n\n    _this.onBuffer = function (_ref) {\n      var isBuffering = _ref.isBuffering;\n\n      _this.setState({\n        opacity: isBuffering ? 1 : 0\n      });\n    };\n\n    _this.generateThumbnail = function _callee(imageUri) {\n      var uri, url, res;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(VideoThumbnails.getThumbnailAsync(imageUri, {\n                time: 15000\n              }));\n\n            case 3:\n              uri = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(_this.props.uploadPhoto(uri));\n\n            case 6:\n              url = _context.sent;\n              res = JSON.stringify(uri);\n              console.log(\"thumbnail: \" + res);\n\n              _this.setState({\n                thumbnail: url\n              });\n\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.warn(_context.t0);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 12]]);\n    };\n\n    _this.post = function () {\n      if (_this.state.image === \"\") {\n        Alert.alert('Post Empty', 'You are uploading an empty post please select a video or image to upload', [{\n          text: 'OK'\n        }], {\n          cancelable: false\n        });\n      } else {\n        _this.props.updatePhoto(_this.state.image);\n\n        _this.props.uploadPost(_this.state.isVideo, _this.state.thumbnail);\n\n        var toast = Toast.show('Photo uploaded', {\n          duration: Toast.durations.LONG,\n          position: Toast.positions.CENTER,\n          shadow: true,\n          animation: true,\n          hideOnPress: true,\n          delay: 0,\n          onShow: function onShow() {},\n          onShown: function onShown() {},\n          onHide: function onHide() {},\n          onHidden: function onHidden() {}\n        });\n        setTimeout(function () {\n          Toast.hide(toast);\n        }, 3000);\n\n        _this.props.navigation.navigate('Home', {\n          post: 'post'\n        });\n      }\n    };\n\n    _this.onWillFocus = function () {\n      _this.openLibrary();\n    };\n\n    _this.openLibrary = function _callee2() {\n      var _await$Permissions$as, status, image, url;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context2.sent;\n              status = _await$Permissions$as.status;\n\n              if (!(status === 'granted')) {\n                _context2.next = 16;\n                break;\n              }\n\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                durationLimit: 30\n              }));\n\n            case 7:\n              image = _context2.sent;\n\n              if (image.type === \"video\") {\n                _this.generateThumbnail(image.uri);\n\n                _this.setState({\n                  isVideo: true\n                });\n              }\n\n              if (image.type != \"video\") {\n                _this.setState({\n                  isVideo: false\n                });\n              }\n\n              if (image.duration > 16000) {\n                console.log(\"duration more than 30\");\n                image.cancelled = true;\n                Alert.alert('Video Duration', 'Videos over 15 seconds cannot be uploaded, Please lower the video length and try again', [{\n                  text: 'OK'\n                }], {\n                  cancelable: false\n                });\n              }\n\n              if (image.cancelled) {\n                _context2.next = 16;\n                break;\n              }\n\n              _context2.next = 14;\n              return _regeneratorRuntime.awrap(_this.props.uploadPhoto(image));\n\n            case 14:\n              url = _context2.sent;\n\n              _this.setState({\n                image: url\n              });\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.setLocation = function _callee3(location) {\n      var list, state, city, output, url, response, data, i, place;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              list = [];\n              list = location.plus_code.compound_code;\n              output = list.split(/[,]+/).pop();\n              url = GOOGLE_API1 + \"latlng=\" + location.geometry.location.lat + \",\" + location.geometry.location.lng + \"&key=\" + 'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk';\n              _context3.next = 6;\n              return _regeneratorRuntime.awrap(fetch(url));\n\n            case 6:\n              response = _context3.sent;\n              _context3.next = 9;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 9:\n              data = _context3.sent;\n\n              for (i = 0; i < data.results.length; ++i) {\n                if (data.results[i].types[0] == \"administrative_area_level_1\") {\n                  state = data.results[i].address_components[0].long_name;\n                }\n\n                if (data.results[i].types[0] == \"locality\") {\n                  city = data.results[i].address_components[0].long_name;\n                }\n              }\n\n              place = {\n                name: location.name,\n                coords: {\n                  lat: location.geometry.location.lat,\n                  lng: location.geometry.location.lng\n                },\n                country: output,\n                state: state,\n                city: city\n              };\n\n              _this.setState({\n                showModal: false\n              });\n\n              _this.props.updateLocation(place);\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    };\n\n    _this.getLocations = function _callee4() {\n      var _await$Permissions$as2, status, location, url, response, data;\n\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as2 = _context4.sent;\n              status = _await$Permissions$as2.status;\n\n              if (!(status == 'granted')) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync());\n\n            case 7:\n              location = _context4.sent;\n              url = GOOGLE_API + \"?location=\" + location.coords.latitude + \",\" + location.coords.longitude + \"&rankby=distance&key=\" + 'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk';\n              _context4.next = 11;\n              return _regeneratorRuntime.awrap(fetch(url));\n\n            case 11:\n              response = _context4.sent;\n              _context4.next = 14;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 14:\n              data = _context4.sent;\n\n              _this.setState({\n                locations: data.results\n              });\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.getLocations();\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(this.playInSilentMode());\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"playInSilentMode\",\n    value: function playInSilentMode() {\n      var sound;\n      return _regeneratorRuntime.async(function playInSilentMode$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(Audio.setAudioModeAsync({\n                playsInSilentModeIOS: true,\n                allowsRecordingIOS: false,\n                interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS,\n                shouldDuckAndroid: false,\n                interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n                playThroughEarpieceAndroid: true,\n                staysActiveInBackground: false\n              }));\n\n            case 2:\n              _context6.next = 4;\n              return _regeneratorRuntime.awrap(Audio.setIsEnabledAsync(true));\n\n            case 4:\n              sound = new Audio.Sound();\n              _context6.next = 7;\n              return _regeneratorRuntime.awrap(sound.loadAsync(require(\"../assets/500-milliseconds-of-silence.mp3\")));\n\n            case 7:\n              _context6.next = 9;\n              return _regeneratorRuntime.awrap(sound.playAsync());\n\n            case 9:\n              sound.setIsMutedAsync(true);\n              sound.setIsLoopingAsync(true);\n\n            case 11:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.isVideo === \"\") {\n        return React.createElement(ScrollView, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          }\n        }, React.createElement(KeyboardAvoidingView, {\n          behavior: \"position\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          }\n        }, React.createElement(View, {\n          style: [styles.container, styles.center, {\n            paddingTop: 20\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          }\n        }, React.createElement(NavigationEvents, {\n          onWillFocus: this.onWillFocus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          }\n        }), React.createElement(Modal, {\n          animationType: \"slide\",\n          transparent: false,\n          visible: this.state.showModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          }\n        }, React.createElement(SafeAreaView, {\n          style: [styles.container, styles.center],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          }\n        }, React.createElement(FlatList, {\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          },\n          data: this.state.locations,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return React.createElement(TouchableOpacity, {\n              style: styles.border,\n              onPress: function onPress() {\n                return _this2.setLocation(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 270\n              }\n            }, React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 271\n              }\n            }, item.name), React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 272\n              }\n            }, item.vicinity));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          }\n        }))), React.createElement(Image, {\n          style: styles.homeImage,\n          source: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          }\n        }), React.createElement(TextInput, {\n          style: styles.border,\n          value: this.props.post.description,\n          onChangeText: function onChangeText(text) {\n            return _this2.props.updateDescription(text);\n          },\n          placeholder: \"Description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          }\n        }), this.state.locations.length > 0 ? React.createElement(TouchableOpacity, {\n          style: styles.border,\n          onPress: function onPress() {\n            return _this2.setState({\n              showModal: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          }\n        }, React.createElement(Text, {\n          style: styles.gray,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          }\n        }, this.props.post.location ? this.props.post.location.name : 'Add a Location')) : null, React.createElement(TouchableOpacity, {\n          style: styles.button,\n          onPress: this.post,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          }\n        }, \"Post\")))));\n      }\n\n      if (this.state.isVideo === true) {\n        return React.createElement(ScrollView, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          }\n        }, React.createElement(KeyboardAvoidingView, {\n          behavior: \"position\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          }\n        }, React.createElement(View, {\n          style: [styles.container, styles.center, {\n            paddingTop: 20\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          }\n        }, React.createElement(ActivityIndicator, {\n          animating: true,\n          size: \"large\",\n          color: \"#0000ff\",\n          style: [styles.activityIndicator, {\n            opacity: this.state.opacity\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          }\n        }), React.createElement(NavigationEvents, {\n          onWillFocus: this.onWillFocus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          }\n        }), React.createElement(Modal, {\n          animationType: \"slide\",\n          transparent: false,\n          visible: this.state.showModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          }\n        }, React.createElement(SafeAreaView, {\n          style: [styles.container, styles.center],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          }\n        }, React.createElement(FlatList, {\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          },\n          data: this.state.locations,\n          renderItem: function renderItem(_ref3) {\n            var item = _ref3.item;\n            return React.createElement(TouchableOpacity, {\n              style: styles.border,\n              onPress: function onPress() {\n                return _this2.setLocation(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 322\n              }\n            }, React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 323\n              }\n            }, item.name), React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 324\n              }\n            }, item.vicinity));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          }\n        }))), React.createElement(Video, {\n          source: {\n            uri: this.state.image\n          },\n          rate: 1.0,\n          volume: 1.0,\n          isMuted: true,\n          shouldPlay: true,\n          onBuffer: this.onBuffer,\n          style: styles.homeImage,\n          useNativeControls: true,\n          onLoadStart: this.onLoadStart,\n          onLoad: this.onLoad,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          }\n        }), React.createElement(TextInput, {\n          style: styles.border,\n          value: this.props.post.description,\n          onChangeText: function onChangeText(text) {\n            return _this2.props.updateDescription(text);\n          },\n          placeholder: \"Description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343\n          }\n        }), this.state.locations.length > 0 ? React.createElement(TouchableOpacity, {\n          style: styles.border,\n          onPress: function onPress() {\n            return _this2.setState({\n              showModal: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          }\n        }, React.createElement(Text, {\n          style: styles.gray,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          }\n        }, this.props.post.location ? this.props.post.location.name : 'Add a Location')) : null, React.createElement(TouchableOpacity, {\n          style: styles.button,\n          onPress: this.post,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          }\n        }, \"Post\")))));\n      }\n\n      if (this.state.isVideo === false) {\n        return React.createElement(ScrollView, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          }\n        }, React.createElement(KeyboardAvoidingView, {\n          behavior: \"position\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          }\n        }, React.createElement(View, {\n          style: [styles.container, styles.center, {\n            paddingTop: 20\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          }\n        }, React.createElement(NavigationEvents, {\n          onWillFocus: this.onWillFocus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          }\n        }), React.createElement(Modal, {\n          animationType: \"slide\",\n          transparent: false,\n          visible: this.state.showModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          }\n        }, React.createElement(SafeAreaView, {\n          style: [styles.container, styles.center],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372\n          }\n        }, React.createElement(FlatList, {\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          },\n          data: this.state.locations,\n          renderItem: function renderItem(_ref4) {\n            var item = _ref4.item;\n            return React.createElement(TouchableOpacity, {\n              style: styles.border,\n              onPress: function onPress() {\n                return _this2.setLocation(item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 377\n              }\n            }, React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 378\n              }\n            }, item.name), React.createElement(Text, {\n              style: styles.gray,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 379\n              }\n            }, item.vicinity));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373\n          }\n        }))), React.createElement(Image, {\n          style: styles.homeImage,\n          source: {\n            uri: this.state.image\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384\n          }\n        }), React.createElement(TextInput, {\n          style: styles.border,\n          value: this.props.post.description,\n          onChangeText: function onChangeText(text) {\n            return _this2.props.updateDescription(text);\n          },\n          placeholder: \"Description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          }\n        }), this.state.locations.length > 0 ? React.createElement(TouchableOpacity, {\n          style: styles.border,\n          onPress: function onPress() {\n            return _this2.setState({\n              showModal: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          }\n        }, React.createElement(Text, {\n          style: styles.gray,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 394\n          }\n        }, this.props.post.location ? this.props.post.location.name : 'Add a Location')) : null, React.createElement(TouchableOpacity, {\n          style: styles.button,\n          onPress: this.post,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          }\n        }, \"Post\")))));\n      }\n    }\n  }]);\n\n  return Post;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    updateDescription: updateDescription,\n    uploadPost: uploadPost,\n    updateLocation: updateLocation,\n    uploadPhoto: uploadPhoto,\n    updatePhoto: updatePhoto,\n    getPosts: getPosts\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    post: state.post,\n    user: state.user,\n    dog: state.dog\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);","map":{"version":3,"sources":["/Users/kharl/pawSpace/screens/Post.js"],"names":["React","styles","ENV","connect","bindActionCreators","ImagePicker","Location","Permissions","NavigationEvents","updateDescription","updateLocation","uploadPost","updatePhoto","getPosts","GOOGLE_API","GOOGLE_API1","Toast","Video","Audio","VideoPlayer","uploadPhoto","playInSilentMode","ScrollView","VideoThumbnails","Post","state","showModal","locations","isVideo","thumbnail","image","videoLoading","opacity","onLoad","setState","onLoadStart","onBuffer","isBuffering","generateThumbnail","imageUri","getThumbnailAsync","time","uri","props","url","res","JSON","stringify","console","log","warn","post","Alert","alert","text","cancelable","toast","show","duration","durations","LONG","position","positions","CENTER","shadow","animation","hideOnPress","delay","onShow","onShown","onHide","onHidden","setTimeout","hide","navigation","navigate","onWillFocus","openLibrary","askAsync","CAMERA_ROLL","status","launchImageLibraryAsync","allowsEditing","mediaTypes","MediaTypeOptions","All","durationLimit","type","cancelled","setLocation","location","list","plus_code","compound_code","output","split","pop","geometry","lat","lng","fetch","response","json","data","i","results","length","types","address_components","long_name","city","place","name","coords","country","getLocations","LOCATION","getCurrentPositionAsync","latitude","longitude","setAudioModeAsync","playsInSilentModeIOS","allowsRecordingIOS","interruptionModeIOS","INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS","shouldDuckAndroid","interruptionModeAndroid","INTERRUPTION_MODE_ANDROID_DO_NOT_MIX","playThroughEarpieceAndroid","staysActiveInBackground","setIsEnabledAsync","sound","Sound","loadAsync","require","playAsync","setIsMutedAsync","setIsLoopingAsync","container","center","paddingTop","item","id","border","gray","vicinity","homeImage","description","button","activityIndicator","Component","mapDispatchToProps","dispatch","mapStateToProps","user","dog"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from '../styles'\nimport ENV from '../env';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as ImagePicker from 'expo-image-picker'\nimport * as Location from 'expo-location'\nimport * as Permissions from 'expo-permissions'\nimport { NavigationEvents } from 'react-navigation';\nimport { updateDescription, updateLocation, uploadPost, updatePhoto,getPosts } from '../actions/post'\nimport { FlatList, Modal, SafeAreaView, Text, View, TextInput, Image, TouchableOpacity, KeyboardAvoidingView,Platform,Dimensions,Alert,ActivityIndicator} from 'react-native';\nconst GOOGLE_API = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json'\nconst GOOGLE_API1 = 'https://maps.googleapis.com/maps/api/geocode/json?'\n//import Toast from 'react-native-simple-toast';\nimport Toast from 'react-native-root-toast';\nimport { Video,Audio} from 'expo-av';\nimport VideoPlayer from 'expo-video-player'\nimport { uploadPhoto, playInSilentMode } from '../actions'\nimport { ScrollView } from 'react-native-gesture-handler';\nimport * as VideoThumbnails from 'expo-video-thumbnails';\n\n\n\nclass Post extends React.Component {\n  state = {\n    showModal: false, \n    locations: [],\n    isVideo:\"\",\n    thumbnail:\"\",\n    image: \"\",\n    videoLoading:\"\",\n    opacity: 0\n  }\n \n  async componentDidMount(){\n    this.getLocations()\n\n    // this method is a work around to get audio to automatically play when the ringer is off for the phone\n    await this.playInSilentMode()\n    \n  }\n\n  onLoad = () => {\n    this.setState({opacity: 0});\n}\n\nonLoadStart = () => {\n  this.setState({opacity: 1});\n}\n\nonBuffer = ({isBuffering}) => {\n  this.setState({opacity: isBuffering ? 1 : 0});\n}\n\ngenerateThumbnail = async (imageUri) => {\n  try {\n    const uri = await VideoThumbnails.getThumbnailAsync(\n      imageUri,\n      {\n        time: 15000,\n      }\n    );\n   \n    const url = await this.props.uploadPhoto(uri)\n    let res = JSON.stringify(uri)\n      console.log(\"thumbnail: \"+res)\n    this.setState({ thumbnail: url });\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\n  post = () => {\n    if(this.state.image===\"\"){\n\n      Alert.alert(\n        'Post Empty',\n        'You are uploading an empty post please select a video or image to upload',\n        [\n          {text: 'OK',}\n        ],\n        { cancelable: false }\n      )\n\n    }\n    else{\n    this.props.updatePhoto(this.state.image)\n    this.props.uploadPost(this.state.isVideo, this.state.thumbnail)\n   \n    // Add a Toast on screen.\nlet toast = Toast.show('Photo uploaded', {\n  duration: Toast.durations.LONG,\n  position: Toast.positions.CENTER,\n  shadow: true,\n  animation: true,\n  hideOnPress: true,\n  delay: 0,\n  onShow: () => {\n      // calls on toast\\`s appear animation start\n  },\n  onShown: () => {\n      // calls on toast\\`s appear animation end.\n  },\n  onHide: () => {\n      // calls on toast\\`s hide animation start.\n  },\n  onHidden: () => {\n      // calls on toast\\`s hide animation end.\n  }\n});\n\n// You can manually hide the Toast, or it will automatically disappear after a `duration` ms timeout.\nsetTimeout(function () {\n  Toast.hide(toast);\n}, 3000);\n\n   this.props.navigation.navigate('Home', {post: 'post'})\n  }\n}\n\n  onWillFocus = () => {\n  \n      \n      this.openLibrary()\n    \n  }\n\n  async playInSilentMode() {\n    // To get around the fact that audio in a `WebView` will be muted in silent mode\n    // See: https://github.com/expo/expo/issues/211\n    //\n    // Based off crazy hack to get the sound working on iOS in silent mode (ringer muted/on vibrate)\n    // https://github.com/expo/expo/issues/211#issuecomment-454319601\n    await Audio.setAudioModeAsync({\n      playsInSilentModeIOS: true,\n      allowsRecordingIOS: false,\n      interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_MIX_WITH_OTHERS,\n      shouldDuckAndroid: false,\n      interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n      playThroughEarpieceAndroid: true,\n      staysActiveInBackground: false\n    });\n    await Audio.setIsEnabledAsync(true);\n    // console.log(\" 🔈 done: setIsEnabledAsync\");\n    const sound = new Audio.Sound();\n    await sound.loadAsync(\n      require(\"../assets/500-milliseconds-of-silence.mp3\") // from https://github.com/anars/blank-audio\n    );\n    // console.log(\" 🔈 done: sound.loadAsync\");\n    await sound.playAsync();\n    sound.setIsMutedAsync(true);\n    sound.setIsLoopingAsync(true);\n    // console.log(\" 🔈 done: sound.playAsync\");\n  }\n\n\n\n  openLibrary = async () => {\n    const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL)\n    if (status === 'granted') {\n      const image = await ImagePicker.launchImageLibraryAsync({allowsEditing: true,mediaTypes:ImagePicker.MediaTypeOptions.All,durationLimit: 30})\n      if(image.type===\"video\"){\n        this.generateThumbnail(image.uri)\n        this.setState({\n          isVideo: true\n        })\n      }\n      if(image.type!=\"video\"){\n        this.setState({\n          isVideo: false\n        })\n      }\n      if(image.duration>16000){\n        console.log(\"duration more than 30\")\n        image.cancelled=true\n\n         Alert.alert(\n          'Video Duration',\n          'Videos over 15 seconds cannot be uploaded, Please lower the video length and try again',\n          [\n            {text: 'OK',}\n          ],\n          { cancelable: false }\n        )}\n\n      \n    \n     \n      if(!image.cancelled){\n        const url = await this.props.uploadPhoto(image)\n        this.setState({\n          image: url\n        })\n        //this.props.updatePhoto(url)\n      }\n    }\n  }\n\n  setLocation = async (location) => {\n    let list =[];\n    \n    list =location.plus_code.compound_code;\n    let state;\n    let city;\n    let output = list.split(/[,]+/).pop();\n\n   \n    const url = `${GOOGLE_API1}latlng=${location.geometry.location.lat},${location.geometry.location.lng}&key=${'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk'}`\n    const response = await fetch(url)\n    const data = await response.json()\n    \n    for(let i=0;i<data.results.length;++i){\n      \n      if(data.results[i].types[0]==\"administrative_area_level_1\"){\n        \n          state = data.results[i].address_components[0].long_name;  \n              \n      }\n\n      if(data.results[i].types[0]==\"locality\"){\n        \n        city = data.results[i].address_components[0].long_name;  \n            \n    }\n     \n    }\n    \n    const place = {\n      name: location.name,\n      coords: {\n        lat: location.geometry.location.lat,\n        lng: location.geometry.location.lng\n      },\n      country : output,\n      state: state,\n      city: city\n    }\n\n    this.setState({ showModal: false })\n    this.props.updateLocation(place)\n  }\n\n  getLocations = async () => {\n   \n    let { status } = await Permissions.askAsync(Permissions.LOCATION);\n    if (status == 'granted') {\n     const location = await Location.getCurrentPositionAsync();\n      const url = `${GOOGLE_API}?location=${location.coords.latitude},${location.coords.longitude}&rankby=distance&key=${'AIzaSyCKtd8tWSWZ1jMR8tw11c-FgmIPsF9Ycqk'}`\n      const response = await fetch(url)\n      const data = await response.json()\n      \n      this.setState({ locations: data.results })\n    }\n    \n  }\n\n  render() {\n    if(this.state.isVideo===\"\"){\n      return (\n        <ScrollView style={styles.container}>\n          <KeyboardAvoidingView behavior='position'>\n        <View style={[styles.container, styles.center,{paddingTop: 20}]}>\n          <NavigationEvents onWillFocus={this.onWillFocus}/>\n          <Modal animationType='slide' transparent={false} visible={this.state.showModal}>\n            <SafeAreaView style={[styles.container, styles.center]}>\n              <FlatList\n                keyExtractor={(item) => item.id}\n                data={this.state.locations}\n                renderItem={({ item }) => (\n                <TouchableOpacity style={styles.border} onPress={() => this.setLocation(item)}>\n                  <Text style={styles.gray}>{item.name}</Text>\n                  <Text style={styles.gray}>{item.vicinity}</Text>\n                </TouchableOpacity>\n              )}/> \n            </SafeAreaView>\n          </Modal>\n          <Image style={styles.homeImage} source={\"\"}/>\n          <TextInput\n            style={styles.border}\n            value={this.props.post.description}\n            onChangeText={text => this.props.updateDescription(text)}\n            placeholder='Description'\n          />\n          {\n            this.state.locations.length > 0 ?        \n            <TouchableOpacity style={styles.border} onPress={() => this.setState({ showModal: true })}>\n              <Text style={styles.gray}>{this.props.post.location ? this.props.post.location.name : 'Add a Location'}</Text>\n            </TouchableOpacity> : null\n          }\n          <TouchableOpacity style={styles.button} onPress={this.post}>\n            <Text>Post</Text>\n          </TouchableOpacity>\n        </View>\n        </KeyboardAvoidingView>\n        </ScrollView>\n      );\n    }\n  \n\n   if(this.state.isVideo===true){\n     \n   \n    return (\n     \n      <ScrollView style={styles.container}>\n        \n        <KeyboardAvoidingView behavior='position'>\n      <View style={[styles.container, styles.center,{paddingTop: 20}]}>\n      <ActivityIndicator\n                animating\n                size=\"large\"\n                color=\"#0000ff\"\n                style={[styles.activityIndicator, {opacity: this.state.opacity}]}\n        />\n        <NavigationEvents onWillFocus={this.onWillFocus}/>\n        <Modal animationType='slide' transparent={false} visible={this.state.showModal}>\n          <SafeAreaView style={[styles.container, styles.center]}>\n            <FlatList\n              keyExtractor={(item) => item.id}\n              data={this.state.locations}\n              renderItem={({ item }) => (\n              <TouchableOpacity style={styles.border} onPress={() => this.setLocation(item)}>\n                <Text style={styles.gray}>{item.name}</Text>\n                <Text style={styles.gray}>{item.vicinity}</Text>\n              </TouchableOpacity>\n            )}/> \n          </SafeAreaView>\n        </Modal>\n      \n       <Video\n        source={{ uri: this.state.image }}\n        rate={1.0}\n        volume={1.0}\n        isMuted={true}\n        shouldPlay\n        onBuffer={this.onBuffer}\n        style={styles.homeImage}\n        useNativeControls={true}\n        onLoadStart={this.onLoadStart}\n        onLoad={this.onLoad}\n      />\n   \n        <TextInput\n        \tstyle={styles.border}\n        \tvalue={this.props.post.description}\n        \tonChangeText={text => this.props.updateDescription(text)}\n        \tplaceholder='Description'\n        />\n        {\n          this.state.locations.length > 0 ?        \n          <TouchableOpacity style={styles.border} onPress={() => this.setState({ showModal: true })}>\n            <Text style={styles.gray}>{this.props.post.location ? this.props.post.location.name : 'Add a Location'}</Text>\n          </TouchableOpacity> : null\n        }\n      \t<TouchableOpacity style={styles.button} onPress={this.post}>\n      \t\t<Text>Post</Text>\n      \t</TouchableOpacity>\n      </View>\n      </KeyboardAvoidingView>\n      </ScrollView>\n    );\n  }\n\n  if(this.state.isVideo===false){\n    \n    return (\n      <ScrollView style={styles.container}>\n        <KeyboardAvoidingView behavior='position'>\n      <View style={[styles.container, styles.center,{paddingTop: 20}]}>\n        <NavigationEvents onWillFocus={this.onWillFocus}/>\n        <Modal animationType='slide' transparent={false} visible={this.state.showModal}>\n          <SafeAreaView style={[styles.container, styles.center]}>\n            <FlatList\n              keyExtractor={(item) => item.id}\n              data={this.state.locations}\n              renderItem={({ item }) => (\n              <TouchableOpacity style={styles.border} onPress={() => this.setLocation(item)}>\n                <Text style={styles.gray}>{item.name}</Text>\n                <Text style={styles.gray}>{item.vicinity}</Text>\n              </TouchableOpacity>\n            )}/> \n          </SafeAreaView>\n        </Modal>\n        <Image style={styles.homeImage} source={{uri: this.state.image }}/>\n        <TextInput\n        \tstyle={styles.border}\n        \tvalue={this.props.post.description}\n        \tonChangeText={text => this.props.updateDescription(text)}\n        \tplaceholder='Description'\n        />\n        {\n          this.state.locations.length > 0 ?        \n          <TouchableOpacity style={styles.border} onPress={() => this.setState({ showModal: true })}>\n            <Text style={styles.gray}>{this.props.post.location ? this.props.post.location.name : 'Add a Location'}</Text>\n          </TouchableOpacity> : null\n        }\n      \t<TouchableOpacity style={styles.button} onPress={this.post}>\n      \t\t<Text>Post</Text>\n      \t</TouchableOpacity>\n      </View>\n      </KeyboardAvoidingView>\n      </ScrollView>\n    );\n  }\n}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ updateDescription, uploadPost, updateLocation, uploadPhoto, updatePhoto,getPosts }, dispatch)\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    post: state.post,\n    user: state.user,\n    dog: state.dog\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post)"]},"metadata":{},"sourceType":"module"}